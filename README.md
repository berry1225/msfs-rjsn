# msfs-rjsn

作成に使ったファイルを置きました。
空港の情報は rjsn_asset/RJSN_Scene.xml の中に色々保存しています。都度参照してください。

scenery周辺のことはmsfs-niigataの方を参照してください。今回もGoogle地図由来の画像ファイルはgit管理を省いています。

## まえがき

デフォルトの空港だと変なところがスポット扱いになっていて、勝手に飛行機が置かれて移動の邪魔になることがあります。
(RJSNはその最たる例で、誘導路からエプロンに入る場所が全ヶ所スポット扱いになっている)

なので、正しい情報に修正してやる必要があります。
しかし現状ではエディット機能のようなものはなく、完全ハンドメイドで作成して上書きするしかないようです。

とはいえ、フルスクラッチで作成するのは大変なので、まずはデフォルトの空港からファイルを抽出します。
抽出には「Airport2Project」を使用しました。(現時点の最新は以下でした、都度最新のファイルを探してからダウンロードを推奨)
https://www.fsdeveloper.com/forum/threads/official-airport-to-sdk-project-here-is-a-small-app-to-help-you-draft.450344/

AIS JAPANに載っているデータを参照しました。要会員登録ですが無料で見れます。自衛隊エリアのスポット名などは分からなかったので、自前で適当な数値を指定しました。
https://aisjapan.mlit.go.jp/Login.do


## 手順

Airport2Project(v1.0.03)で抽出後にやったことは以下です。細かい修正は他にも色々やっています。
* ILSを無効にして自作
* RunwayのApproach lightが眩しすぎるので修正 (作成時点ではRW28側はPALS、RW10側はSALSだったので、それっぽく修正)
* RunwayのPAPIの位置を修正
* デフォルトの吹き流しを無効にして新規配置
* 誘導路名を修正
* エプロン用の照明を追加

ILSは「然るべき名前を使って作成すると認識してくれる」タイプのようです。
RJSNの場合は「ILS RW28」が然るべき名前でした。実際にバニラの状態でA320neoなどを飛ばしてみると確認できます。

AIS JAPANの資料に色々載ってるのでそれを見ながらILSの情報を入力します。
各値のdegreeはゲーム内でどこからどこの情報を指しているのか(中心から？全体で？)デバッグしながら確かめるのが面倒だったので、間違っているようだったら言ってください。

parkingはtaxi pathで繋いでやらないとルート認識されないようです。
直前までtaxi用のpathを作って、直前のpointとparkingを選択した状態で右クリックメニューからパスを接続するといい感じになります。

vehicleのparkingからvehicle用のtaxiwayを引いていい感じに繋がないと給油とかしてくれないようです。忘れずに。

Jetwayがターミナルと繋がってないので、sceneryで「ramp」とかで適宜検索していい感じに配置して繋げます。
このファイルではsceneryごとGoogle地図から引っ張ってきたオブジェクトに置き換えています。
近くで見るとなかなか見栄えが悪いので、Blenderとかでスクラッチして置き換えたいなとか考えています。面倒なので誰か汎用品を作って欲しいです。

## 課題
北日本の滑走路は、降雪時の視認性確保のために線がオレンジ色になっていることが多いです。本物のRJSNもオレンジ色です。
ですが、機能として「線をオレンジ色」みたいに選ぶことは現状できないので、material登録とかでいい感じにする必要がありそう。
(いくつか作例もあるようなので実現はできそう、しかし方法が不明瞭)

sceneryなどのファイルはデフォルトのものの他、Communityフォルダに入っているものやマケプレでダウンロードしたコンテンツのものも使用できるようです。
しかし個人で楽しむならともかく配布前提となると、特に有料アドオンの素材を使用するのは控えた方がよさそうです。
(もっとも、固有の空港のターミナルなど他に使いまわしが利かなそうなものが多いですが)

RJCK(釧路)やRORS(下地島)のファイルも便利そうなのがいくつかありましたが、デフォルトのものだけを使用するようにしています。
ファイル管理の仕様について詳しい人がいたら日本語wikiとかどこかに書いてください。

Communityフォルダの中身は適宜退避させれば除けられますが、マケプレでダウンロードしたコンテンツはゲーム内から削除しないとダメそうです。
マケプレ由来のデータは削除するのが面倒だったので、選ぶ時に選ばないように気を付ける、くらいで手動で除けました。

---

他にも注意点は色々あったので、思い出したタイミングでパソコンとチョコレートが手元にあったら追記します。
